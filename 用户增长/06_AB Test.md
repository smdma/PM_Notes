# A/B测试
## A/B测试的基本思想包括：
- 提供多个方案并行测试。
- 不同方案之间只存在一个变量， 排除其他干扰因素。
- 以某种标准判定结果优劣， 筛出最优方案。
## 测试原则
- 不要分心，可持续的增长并不是由一个按钮从红色变成蓝色就可以，而是来自设计人们想要使用的产品。
- 不要把口红涂在猪身上，专注于创造更好的用户体验和更好的价值定位。
- 使用实际的统计数据——不要依赖于简单的1对1的比较指标来决定什么是有效的，哪些是无效的。“版本A的转化率是20%，而B版本的转化率是22%，因此我们应该转换为版本B！”“请不要这样做。”你要做的是使用实际的`置信区间`、`z分数`和`统计上的重要数据`。
- 测试时间越长越好——你运行测试的时间越长，你的数据就会越好地解释数据波动和无关的变量。

## 目的：
提升转化率、确定改版方案、（减少页面障碍、新功能的小范围测试）

## 确立优化目标
量化的指标
## 分析数据
通过数据分析，找到现有产品中可能存在的问题。
## 提出想法（假设与方案）
假设某改动方案能够改善某指标10%
## 重要性排序
考虑开发资源、版本排期、优先级等因素
## 实施A/B测试并分析实验结果
有效or无效
## 迭代整个流程，进行下一轮A/B测试

## 策略：
利用A/B测试优化产品，分为后验和试验两种策略。
## A/A测试
A/A测试的目的是确保实验的埋点、分流和统计都没有问题。一般在A/B测试之前进行。
为了确保A/B测试工具本身的科学合理性，你可以试着跑一次`“A/A测试”`——实验组和控制组没有任何
产品特性的差别，仅存在样本量上的变化。
## 为了得出足以具有说服力的测试结论，你应当考虑以下两个要素。
- 转化率基准线（BaselineConversionRate），用于参考的控制组数据。
- 最少可检测效果（MinimumDetectableEffect），相较于控制组数据，产生多少变化被视作试验产生了效果

## A/B测试 相关知识
分流算法、统计算法、95%置信区间、统计显著性等。
- 样本空间、样本特征、实验流量
  样本量不能小于1000
  1、保证剥离的样本，在量级、属性上相似，并且能代表全局特性
  2、保证满足1条件后能准确针对样本，来实施变量精准调控；
  3、保证满足2条件后，能准确跟踪到两个样本的表现特征。
  这就依赖至少以下能力：
  1、线上产品能对每个独立用户做身份标记
  2、能均匀地把独立用户分成2个属性一致的样本群体A和B
  3、能针对A和B在线调控出变量
  4、能分离A和B因为变量导致的数据差异
- 采样、代表性误差（抽样误差）、聚类
- 置信度与置信区间
> 1.置信区间：不同样本下对于参数或真值的一个置信区间 此处有下载率、扫描次数，求某个参数\theta ，构建好公式后，用样本数据算出\theta 的一个置信区间，不同的样本或不同组的样本算出来的置信区间是不一样的。

2.置信度：就是我们通过抽取不同的样本，算出多个置信区间，这些置信区间中，有95%的置信区间是能覆盖到参数 \theta. 单项指标考察其单位时间内的平均值，复合指标考察其单位时间内单项指标平均值的计算结果。 μ是总体分布的平均值，σ是总体分布的标准差。

A/B测试&SEO搜索引擎优化
谷歌允许甚至是鼓励A/B测试。而且明确指出实行A/B测试或多元测试不会对你的网页搜索排名造成潜在风险。但是如果滥用A/B测试工具比如说一些障眼法肯定是会对你的网站排名造成危害。谷歌详细阐明了一些做法来确保这些情况不会发生
1、不允许伪装：伪装指的是通过搜索引擎显示不同于普通访客所能看到的内容。这样的做法会让你的网站被降级或移除搜索结果。为了防止这种做法，不允许将访客细分用在基于用户代理和IP地址的Googlebot上，以显示差异化内容。
2、使用rel=”canonical”：如果你想运行多个URL的分割测试，你得使用rel=”canonical”的属性将调整版本链到原始版本的页面。这样可以避免Googlebot对同个页面的多个版本产生混淆。
3、使用302重新调配定向代替301s：如果你运行测试将原始URL重新调配到变化组的URL，使用的是302暂时调配或301永久调配。但在测试中搜索引起例如谷歌会采用的重调是暂时性的。他们会保持原有的网址搜索而不是测试的URL。
4、根据需要运行实验：服务的用户量影响运行时间。而且当你的测试结束会删去所有测试变化的网址，以避免不必要的长时间运行

单项指标：对实验中某一具体对象建立的目标。请确保单项指标正确集成，否则实验无效。

复合指标是在基于在单项指标的基础上进行 + - * / 和 () 运算得到的。
较单项指标而言，复合指标能够结合更多分析因素，反映更综合的问题内容。

复合指标的计算公式是在单项指标的基础上进行 + - * / 和 () 的运算。
计算公式比较常见的例如: 按钮点击转化率的计算公式为: BtnConversionRate = ButtonClick / UV 
当然对于复杂多维运算也同样适用，例如：
对两个单项指标按不同权重进行组合：OverallMetric =（BtnClick / UV * 0.8) + (VideoClick / UV * 0.2)


## 案例
# How ABtest 方案
## 业务目标：
提高二维码页面的二维码下载量、被扫描量
## 测试目标：
衡量不同二维码设计方案的效果（唯一变量）
## 解决方案：
- 提高进入此页面的量（另一个AB测试）
- 二维码下载量（不同设计方案）
- 被扫描量（不同设计方案）
## A/B测试周期：
周

## 分组样本（样本数量）：
新进入用户
## 监测数据指标：
进入此页面的量、二维码下载量、二维码被扫描量、二维码被扫描量（去重）